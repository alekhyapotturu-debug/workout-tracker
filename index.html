<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workout Tracker</title>
    <!-- Google Fonts: Outfit -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="./style.css">
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

    <div class="app-container">
        <header>
            <h1>Workout Tracker</h1>
            <div class="calendar-controls">
                <button id="prevMonth" class="nav-btn"><i class="fa-solid fa-chevron-left"></i></button>
                <h2 id="currentMonthYear">September 2023</h2>
                <button id="nextMonth" class="nav-btn"><i class="fa-solid fa-chevron-right"></i></button>
                <button id="notifyBtn" class="nav-btn" title="Enable Reminders"><i
                        class="fa-regular fa-bell"></i></button>
            </div>
        </header>

        <main>
            <div id="calendarGrid" class="calendar-grid">
                <!-- Days will be generated by JS -->
            </div>

            <div class="stats-section">
                <!-- Activity Chart -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3>Monthly Activity</h3>
                        <div class="calories-display">
                            <i class="fa-solid fa-fire"></i> <span id="totalCalories">0</span> kcal
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="activityChart"></canvas>
                    </div>
                </div>

                <!-- Weight Chart -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3>Weight Tracker</h3>
                        <div class="chart-toggles">
                            <button id="viewWeekly" class="toggle-btn">Weekly</button>
                            <button id="viewMonthly" class="toggle-btn active">Monthly</button>
                            <button id="viewYearly" class="toggle-btn">Yearly</button>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="weightChart"></canvas>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Workout Modal -->
    <div id="workoutModal" class="modal">
        <div class="modal-content glass-panel">
            <span class="close-modal">&times;</span>
            <h2 id="modalDate">Add Activity</h2>

            <div id="existingWorkouts" class="existing-workouts">
                <!-- Existing workouts for this day will be listed here -->
            </div>

            <!-- Separate Weight Entry Section -->
            <div class="weight-entry-section">
                <label for="modalWeight">Body Weight (kg)</label>
                <div class="weight-input-group-modal">
                    <input type="number" id="modalWeight" placeholder="e.g. 75.5" step="0.1">
                    <button type="button" id="updateWeightBtn" class="small-action-btn">Update Weight</button>
                </div>
            </div>

            <hr style="border: 0; border-top: 1px solid rgba(255,255,255,0.1); margin: 1.5rem 0;">

            <form id="workoutForm">
                <div class="form-group">
                    <label>Activity Type</label>
                    <div class="workout-types-grid">
                        <input type="radio" name="workoutType" id="type-leg" value="Leg Day">
                        <label for="type-leg" class="type-chip leg">Leg Day ü¶µ</label>

                        <input type="radio" name="workoutType" id="type-upper" value="Upper Body">
                        <label for="type-upper" class="type-chip upper">Upper Body üí™</label>

                        <input type="radio" name="workoutType" id="type-core" value="Core">
                        <label for="type-core" class="type-chip core">Core ü§∏</label>

                        <input type="radio" name="workoutType" id="type-yoga" value="Yoga">
                        <label for="type-yoga" class="type-chip yoga">Yoga üßò</label>

                        <input type="radio" name="workoutType" id="type-cycling" value="Cycling">
                        <label for="type-cycling" class="type-chip cycling">Cycling üö¥</label>

                        <input type="radio" name="workoutType" id="type-badminton" value="Badminton">
                        <label for="type-badminton" class="type-chip badminton">Badminton üè∏</label>

                        <input type="radio" name="workoutType" id="type-walk" value="Walk (10k)">
                        <label for="type-walk" class="type-chip walk">Walk (10k) üö∂</label>

                        <input type="radio" name="workoutType" id="type-period" value="Period">
                        <label for="type-period" class="type-chip period">Period ü©∏</label>

                        <input type="radio" name="workoutType" id="type-other" value="Other">
                        <label for="type-other" class="type-chip other">Other ‚ú®</label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="notes">Notes / Details</label>
                    <textarea id="notes" rows="3" placeholder="e.g. Squats: 3x10 @ 60kg"></textarea>
                </div>

                <button type="submit" class="submit-btn">Save Entry</button>
            </form>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast hidden">Data saved successfully!</div>

    <!-- In-App Notification Fallback -->
    <div id="inAppNotification" class="in-app-notification hidden">
        <div class="notification-icon">üîî</div>
        <div class="notification-content">
            <h4>Reminder</h4>
            <p id="inAppNotificationMessage">Time to workout!</p>
        </div>
        <button class="close-in-app">&times;</button>
    </div>

    <!-- Notification Settings Modal -->
    <div id="notificationModal" class="modal">
        <div class="modal-content glass-panel" style="max-width: 400px;">
            <span class="close-modal close-notification">&times;</span>
            <h2>Notification Settings üîî</h2>
            <p style="color:var(--text-secondary); margin-bottom:1.5rem; font-size:0.9rem;">We'll remind you to workout
                if you haven't logged one for the day.</p>

            <form id="notificationForm">
                <div class="form-group">
                    <label>Reminder Times</label>
                    <div id="reminderTimesContainer" class="times-container">
                        <!-- Dynamic inputs will be added here -->
                    </div>
                    <button type="button" id="addTimeBtn" class="small-action-btn"
                        style="margin-top: 5px; width: auto; padding: 5px 10px;">+ Add Time</button>
                </div>

                <div class="form-group">
                    <label for="reminderMessage">Message</label>
                    <input type="text" id="reminderMessage" class="glass-input" placeholder="Time to crush it! üí™"
                        value="Time to crush it! üí™">
                </div>

                <div class="form-group" style="display:flex; align-items:center; gap:10px;">
                    <input type="checkbox" id="notificationsEnabled" checked style="width:auto;">
                    <label for="notificationsEnabled" style="margin:0;">Enable Reminders</label>
                </div>

                <button type="submit" class="submit-btn">Save Settings</button>
            </form>
        </div>
    </div>

    <script src="./app.js"></script>
</body>

</html>